<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>The List</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="./style.css">

	</head>
	<body>
		<div id="main"></div>

		<script type="text/babel">

    var PatientGeneral = React.createClass({
      render: function() {
        return (
        <div>
        <label>Name:</label>
        <input type="text" />
        <br  />
        <label>Room:</label>
        <input type="text" />
        <br  />
        <label>Age:</label>
        <input type="text" />
        <br  />
        <label>MRN:</label>
        <input type="text" />
        <br  />
        <label>LOS:</label>
        <input type="text" />
        </div>
				)
      }
    })

		var PatientLabs = React.createClass({
			render: function() {
				return (
					<div id="cbcAndBmr">
					<div id="parentTop">
							<input type="text" id="textInputLower" />
							<label>\</label>
							<input type="text" id="underlineInput" />
							<label>/</label>
					</div>
					<div id="parentBottom">
							<label>/</label>
							<input type="text" />
							<label>\</label>
							<input type="text" id="edgeBoxBottom" />
					</div>
					<br />
					<div id="BMRTop">
							<input type="text" id="underlineInput" />
							<label>|</label>
							<input type="text" id="underlineInput" />
							<label>|</label>
							<input type="text" id="underlineInput" />
							<label>/</label>
							<input type="text" id="textInputLower" />
					</div>
					<div id="BMRBottom">
							<input type="text" />
							<label>|</label>
							<input type="text" />
							<label>|</label>
							<input type="text" />
							<label>\</label>
					</div>
					<br />
					<div id="InAndOut">
						<label>I/O</label>
						<input type="text" id="underlineInput" />
						<label>/</label>
						 <input type="text" id="underlineInput" />
					</div>
				</div>
				)
			}
		})

		var dailyTodos = [
			'Consults',
			'Andon - VTE/Glucose',
			'MAR 48',
			'IV Meds',
			'AM Labs',
			'Discharge/Dispo',
			'Learning'];

		var followUps = [
			'________________',
			'________________',
			'________________',
			'________________',
			'________________',
			'________________',
			'________________'];

		var PatientDailyTodo = React.createClass({
			render: function() {
				return (
					<div>
						<ul>
						{ this.props.listToRender.map((object:string,i:number) =>
									<li key={i}>
										<label>
											<input type="checkbox" value={object}/>{object}
										</label>
									</li>

						)}
						</ul>
					</div>
				)
			}
		})

		var PatientFollowUps = React.createClass({
			render: function() {
				var followUpRow = this.props.listToRender.map((object:string,i:number) =>
							<li key={i}>
								<label>
									<input type="checkbox" value={object}/>{object}
								</label>
							</li>
						)
				return (
					<div>
						<ul>
						{followUpRow}
						</ul>
					</div>
				)
			}
		})

    var PatientAll = React.createClass({
			render: function() {
		    return (
		      <div className="container">
					<div className="row">
						<div className="col-xs-6 col-sm-3 col-md-3 col-lg-3">
              <PatientGeneral />
						</div>
						<div className="col-xs-6 col-sm-3 col-md-3 col-lg-3">
							<PatientLabs />
						</div>
						<div className="col-xs-6 col-sm-3 col-md-3 col-lg-3">
							<PatientDailyTodo listToRender={dailyTodos} />
						</div>
						<div className="col-xs-6 col-sm-3 col-md-3 col-lg-3">
							<PatientFollowUps listToRender={followUps} />
						</div>
							</div>
			      </div>
		    )
		  }
		});

		var PatientAllList = React.createClass({
			getInitialState: function() {
					return {
						patients: []
					}
				},

			handleSubmit: function(e) {
					e.preventDefault();
					var patientTemp = [0];
					if (this.state.patients === undefined || this.state.patients.length == 0) {
						patientTemp = [0];
						console.log("0");
					} else {
						patientTemp = this.state.patients.slice();
						patientTemp.push(patientTemp.length);
						console.log("1");
					}

					this.setState({
						patients: patientTemp
					});
			},


			render: function() {
				console.log(this.state.patients);

				if (this.state.patients === undefined || this.state.patients.length == 0) {
					return (
						<button onClick={this.handleSubmit} className="btn btn-primary center-block">Add Patient</button>
					)
				} else {
					return (
						<div>
						<ul>
							{this.state.patients.map(element => <li key={element}><PatientAll /><br /></li>)}
						</ul>
						<button onClick={this.handleSubmit} className="btn btn-primary center-block">Add Patient</button>
						</div>
					)
				}
			}
		});

		var formRendered = ReactDOM.render(
		  <PatientAllList />,
		  document.getElementById('main')
		);
		</script>
	</body>
</html>
