<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Hello React!</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<style>
		table {border: 1px solid silver; padding: 2px;};
	</style>

	</head>
	<body>
		<div id="main"></div>
		<script type="text/babel">
		var BugFilter = React.createClass({
		  render: function() {
		    return (
		      <div>A way to filter the list of bugs would come here.</div>
		    )
		  }
		});

		var BugRow = React.createClass({
		  render: function() {
		    return (
		      <tr>
		        <td><input type="radio" name={this.props.bug.category} ref={this.props.bug.category} value ={this.props.bug.question} /> {this.props.bug.question}</td>
		      </tr>
		    )
		  }
		});

		var BugTable = React.createClass({
		  render: function() {
		    var bugRows = this.props.bugs.map(function(bug) {
		      return <BugRow key={bug.question} bug={bug} />
		    });
		    return (
					<fieldset id={this.props.bugs[0].category}>
		      <table calss="table table-hover">
		        <tbody>
						  {bugRows}
		        </tbody>
		      </table>
					</fieldset>

		    )
		  }
		});

		var BugAdd = React.createClass({
		  render: function() {
		    return (
		      <div>A form to add a new bug would come here.</div>
		    )
		  }
		});

		var inOrOut = [
			{ question: 'Inpatient', category: "inOrOut" },
			{ question: 'Outpatient', category: "inOrOut" },
		];

		var progYear = [
			{ question: 'MS3', category: "progYear" },
			{ question: 'MS4', category: "progYear" },
			{ question: 'PGY-1 (MEDICINE)', category: "progYear" },
			{ question: 'PGY-1 (Preliminary / transitional / PA)', category: "progYear" },
			{ question: 'PGY -2 (Senior)', category: "progYear" },
			{ question: 'PGY-3 (Senior)', category: "progYear" },
			{ question: 'PGY-4 (Amy and Ana)', category: "progYear" },
			{ question: 'PGY-5 or more (Alvin, Paul)', category: "progYear" },
		];

		var purpose = [
			{ question: 'I have a very clear idea about the purpose or meaning of my life', category: "purpose" },
			{ question: 'I have a pretty good idea about the purpose or meaning of my life', category: "purpose"  },
			{ question: 'I have a hint about my purpose in life', category: "purpose"  },
			{ question: 'I do not know the purpose or meaning of my life', category: "purpose"  },
			{ question: 'My life does not have any purpose or meaning', category: "purpose"  },
		];

		var joy = [
			{ question: 'My life is filled with joy', category: "joy" },
			{ question: 'I have much more joy than sorrow in my life', category: "joy" },
			{ question: 'I have more joy than sorrow in my life', category: "joy" },
			{ question: 'I have neither sorrow nor joy in my life', category: "joy" },
			{ question: 'I have sorrow in my life', category: "joy" },
		];

		var interest = [
			{ question: 'Most of the time I feel fascinated by what I am doing', category: "interest" },
			{ question: 'Most of the time I feel quite interested in what I am doing', category: "interest" },
			{ question: 'Most of the time I feel interested in what I am doing', category: "interest" },
			{ question: 'Most of the time I feel neither bored nor interested in what I am doing', category: "interest" },
			{ question: 'Most of the time I feel bored', category: "interest" },
		];

		var work = [
			{ question: 'I truly love my work', category: "work" },
			{ question: 'I really like my work', category: "work" },
			{ question: 'For the most part, I like my work', category: "work" },
			{ question: 'I feel neutral about my work', category: "work" },
			{ question: 'I do not like my work (paid or unpaid)', category: "work" },
		];

		var future = [
			{ question: 'I feel extraordinarily optimistic about my future', category: "future" },
			{ question: 'I feel quite optimistic about my future', category: "future" },
			{ question: 'I feel somewhat optimistic about my future', category: "future" },
			{ question: 'I am neither optimistic nor pessimistic about my future', category: "future" },
			{ question: 'I am pessimistic about my future', category: "future" },
		];

		var skill = [
			{ question: 'My skills are always appropriately challenged by the situations I encounter', category: "skill" },
			{ question: 'My skills are often appropriately challenged by the situations I encounter', category: "skill"  },
			{ question: 'My skills are sometimes appropriately challenged by the situations I encounter', category: "skill"  },
			{ question: 'My skills are occasionally appropriately challenged by the situations I encounter', category: "skill"  },
			{ question: 'My skills are never appropriately challenged by the situations I encounter', category: "skill"  },
		];

		var qualityOfLife = [
			{ question: 'As good as it can be', category: "qualityOfLife" },
			{ question: 'Somewhat good', category: "qualityOfLife" },
			{ question: 'Neutral', category: "qualityOfLife" },
			{ question: 'Somewhat bad', category: "qualityOfLife" },
			{ question: 'As bad as it can be', category: "qualityOfLife" },
		];

		var fieldValues = {
		  inOrOut     : null,
		  progYear    : null,
		  purpose : null,
		  joy      : null,
		  interest   : null,
			work   : null,
			future   : null,
			skill   : null,
			qualityOfLife   : null,
		};

		var BugList = React.createClass({
			getInitialState: function() {
					return {
						step: 1
					}
				},

			handleSubmit() {
			    console.log("Hello");
					console.log(this.name.inOrOut.getDOMNode().value)
					this.setState({
						step : this.state.step + 1
					})
			  },

			render: function() {
				console.log(this.state.step);
				switch (this.state.step) {
			case 1:
		    return (
		      <div>
					<form>
		        <BugTable bugs={inOrOut}/>
						<br />
						<BugTable bugs={progYear}/>
						<br />
						<BugTable bugs={purpose}/>
						<br />
						<BugTable bugs={joy}/>
						<br />
						<BugTable bugs={interest}/>
						<br />
						<BugTable bugs={work}/>
						<br />
						<BugTable bugs={future}/>
						<br />
						<BugTable bugs={skill}/>
						<br />
						<h3>Qulity of life</h3>
						<BugTable bugs={qualityOfLife}/>
						<button onClick={this.handleSubmit}>Submit</button>
					</form>
		      </div>
		    )
				case 2:
					return (
						<h2>You submitted the form</h2>
					)
			}
		  }
		});

		ReactDOM.render(
		  <BugList />,
		  document.getElementById('main')
		);
		</script>
	</body>
</html>
